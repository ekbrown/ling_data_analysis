<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lesson Plans for Linguistic Data Analysis with R - quanteda</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../EKB_2023_icon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../lessons/r_rstudio.html">Basics</a></li><li class="breadcrumb-item"><a href="../lessons/quanteda.html">quanteda</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Lesson Plans for Linguistic Data Analysis with R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Basics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/r_rstudio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">R and RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/programming_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programming basics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/data_structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data structures in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/File_IO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">File I/O in R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/regexes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regular expressions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/create_freq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Creating frequency lists</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/webscrape_freq.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Webscrape frequencies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lessons/quanteda.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">quanteda</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objective" id="toc-objective" class="nav-link active" data-scroll-target="#objective">Objective</a></li>
  <li><a href="#using-r-for-textual-analysis" id="toc-using-r-for-textual-analysis" class="nav-link" data-scroll-target="#using-r-for-textual-analysis">Using R for textual analysis</a></li>
  <li><a href="#install-the-package-and-its-friends" id="toc-install-the-package-and-its-friends" class="nav-link" data-scroll-target="#install-the-package-and-its-friends">Install the package and its friends</a></li>
  <li><a href="#create-a-corpus" id="toc-create-a-corpus" class="nav-link" data-scroll-target="#create-a-corpus">Create a corpus</a>
  <ul class="collapse">
  <li><a href="#option-1-each-volume-individually-most-verbose" id="toc-option-1-each-volume-individually-most-verbose" class="nav-link" data-scroll-target="#option-1-each-volume-individually-most-verbose">Option 1: Each volume individually (most verbose)</a></li>
  <li><a href="#option-2-automate-the-previous-approach-less-verbose" id="toc-option-2-automate-the-previous-approach-less-verbose" class="nav-link" data-scroll-target="#option-2-automate-the-previous-approach-less-verbose">Option 2: Automate the previous approach (less verbose)</a></li>
  <li><a href="#option-3-use-the-docvarfrom-dvsep-and-docvarnames-arguments-least-verbose" id="toc-option-3-use-the-docvarfrom-dvsep-and-docvarnames-arguments-least-verbose" class="nav-link" data-scroll-target="#option-3-use-the-docvarfrom-dvsep-and-docvarnames-arguments-least-verbose">Option 3: Use the <code>docvarfrom</code>, <code>dvsep</code>, and <code>docvarnames</code> arguments (least verbose)</a></li>
  <li><a href="#activity" id="toc-activity" class="nav-link" data-scroll-target="#activity">Activity</a></li>
  </ul></li>
  <li><a href="#creating-subcorpora" id="toc-creating-subcorpora" class="nav-link" data-scroll-target="#creating-subcorpora">Creating subcorpora</a>
  <ul class="collapse">
  <li><a href="#activity-1" id="toc-activity-1" class="nav-link" data-scroll-target="#activity-1">Activity</a></li>
  </ul></li>
  <li><a href="#keyword-in-context-kwic" id="toc-keyword-in-context-kwic" class="nav-link" data-scroll-target="#keyword-in-context-kwic">Keyword-in-context (KWIC)</a>
  <ul class="collapse">
  <li><a href="#activity-2" id="toc-activity-2" class="nav-link" data-scroll-target="#activity-2">Activity</a></li>
  </ul></li>
  <li><a href="#more-to-come-soon-about-quanteda" id="toc-more-to-come-soon-about-quanteda" class="nav-link" data-scroll-target="#more-to-come-soon-about-quanteda">MORE TO COME SOON ABOUT QUANTEDA</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">quanteda</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="objective" class="level2">
<h2 class="anchored" data-anchor-id="objective">Objective</h2>
<ul>
<li>Students will analyze textual data (aka. texts) with the <code>quanteda</code> R package.</li>
</ul>
</section>
<section id="using-r-for-textual-analysis" class="level2">
<h2 class="anchored" data-anchor-id="using-r-for-textual-analysis">Using R for textual analysis</h2>
<p>The <code>quanteda</code> R package is a super useful package for analyzing texts in R. Some of the techniques are corpus linguistic technique through and through: tokenizing into words or sentences, keyword-in-context, removing stopwords. Other techniques might be better considered computational linguistic techniques: sentiment analysis, document feature matrix. Regardless, we need to get to know this package, as I can’t call myself a good professor of Linguistics Data Analysis with R without looking at this package.</p>
</section>
<section id="install-the-package-and-its-friends" class="level2">
<h2 class="anchored" data-anchor-id="install-the-package-and-its-friends">Install the package and its friends</h2>
<p>Step #1: Install the <code>quanteda</code> package and the other related package that the <code>quanteda</code> creators recommend:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"quanteda"</span>, <span class="st">"quanteda.textmodels"</span>, <span class="st">"quanteda.textstats"</span>, <span class="st">"quanteda.textplots"</span>, <span class="st">"readtext"</span>, <span class="st">"spacyr"</span>, <span class="st">"remotes"</span>), <span class="at">repos =</span> <span class="st">"http://cran.rstudio.com"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, we need to install two packages on a Github:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"quanteda/quanteda.corpora"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"kbenoit/quanteda.dictionaries"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="create-a-corpus" class="level2">
<h2 class="anchored" data-anchor-id="create-a-corpus">Create a corpus</h2>
<p>Let’s create a corpus in <code>quanteda</code>! First, let’s get their example code <a href="https://quanteda.io/articles/quickstart.html#creating-a-corpus">here</a> working on our computers.</p>
<p>Let’s read in the three currently published volumes of <a href="https://history.churchofjesuschrist.org/saints?lang=eng&amp;cid=rdb_v_saints_eng"><em>Saints</em></a>. First, download the zipped file <code>Saints.zip</code> from the LMS. Then, unzip (aka. decompress or extract) the zipped file so that you end up with a directory with several subdirectories organized by volume number.</p>
<p>Let’s read in the corpus such that we add a column with metadata about which volume each file is from. There are three ways (that Dr.&nbsp;Brown can think of) to do that.</p>
<section id="option-1-each-volume-individually-most-verbose" class="level3">
<h3 class="anchored" data-anchor-id="option-1-each-volume-individually-most-verbose">Option 1: Each volume individually (most verbose)</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"quanteda"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"readtext"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/ekb5/Corpora/Saints/txt/"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># load each volume as a separate corpus</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>saints01 <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="st">"Volume01/*.txt"</span>) <span class="sc">%&gt;%</span> <span class="fu">corpus</span>()  <span class="co"># same as: saints01 &lt;- corpus(readtext("Volume01/*.txt"))</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(saints01, <span class="st">"Volume"</span>) <span class="ot">&lt;-</span> <span class="st">"01"</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>saints02 <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="st">"Volume02/*.txt"</span>) <span class="sc">%&gt;%</span> <span class="fu">corpus</span>()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(saints02, <span class="st">"Volume"</span>) <span class="ot">&lt;-</span> <span class="st">"02"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>saints03 <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="st">"Volume03/*.txt"</span>) <span class="sc">%&gt;%</span> <span class="fu">corpus</span>()</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">docvars</span>(saints03, <span class="st">"Volume"</span>) <span class="ot">&lt;-</span> <span class="st">"03"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="co"># combine the three corpora into one, with the docvar column identifying which volume each file comes from</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>saints <span class="ot">&lt;-</span> saints01 <span class="sc">+</span> saints02 <span class="sc">+</span> saints03</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">summary</span>(saints))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="option-2-automate-the-previous-approach-less-verbose" class="level3">
<h3 class="anchored" data-anchor-id="option-2-automate-the-previous-approach-less-verbose">Option 2: Automate the previous approach (less verbose)</h3>
<p>We can use the <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/eval"><code>eval()</code></a> and <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/parse"><code>parse()</code></a> functions in base R to automate the previous approach. Shall we?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"quanteda"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"readtext"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/ekb5/Corpora/Saints/txt/"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># our ol' friend the for loop </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) {</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  to_str <span class="ot">&lt;-</span> <span class="fu">str_glue</span>(<span class="st">"saints0{i} &lt;- readtext('Volume0{i}/*.txt') %&gt;% corpus(); docvars(saints0{i}, 'Volume') &lt;- '0{i}'"</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">eval</span>(<span class="fu">parse</span>(<span class="at">text =</span> to_str))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># combine the three corpora into a new fourth one</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>saints <span class="ot">&lt;-</span> saints01 <span class="sc">+</span> saints02 <span class="sc">+</span> saints03</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">summary</span>(saints))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="option-3-use-the-docvarfrom-dvsep-and-docvarnames-arguments-least-verbose" class="level3">
<h3 class="anchored" data-anchor-id="option-3-use-the-docvarfrom-dvsep-and-docvarnames-arguments-least-verbose">Option 3: Use the <code>docvarfrom</code>, <code>dvsep</code>, and <code>docvarnames</code> arguments (least verbose)</h3>
<p>The <code>readtext()</code> function has a handful of arguments. The <code>docvarfrom</code>, <code>dvsep</code>, and the <code>docvarnames</code> arguments can create a new <code>docvar</code> (i.e., metadata about the corpus) from the filenames and/or the filepaths. Take a look at the documentation <a href="https://www.rdocumentation.org/packages/readtext/versions/0.90/topics/readtext">here</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"quanteda"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Package version: 3.3.1
Unicode version: 14.0
ICU version: 71.1
Parallel computing: 8 of 8 threads used.
See https://quanteda.io for tutorials and examples.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"readtext"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'readtext'

The following object is masked from 'package:quanteda':

    texts</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"/Users/ekb5/Corpora/Saints/txt/"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># one pipeline will do the trick!</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>saints <span class="ot">&lt;-</span> <span class="fu">readtext</span>(<span class="at">file =</span> <span class="st">"*/*.txt"</span>, <span class="at">docvarsfrom =</span> <span class="st">"filepaths"</span>, <span class="at">dvsep =</span> <span class="st">"/"</span>, <span class="at">docvarnames =</span> <span class="fu">c</span>(<span class="st">"Volume"</span>, <span class="st">"filename"</span>)) <span class="sc">%&gt;%</span> <span class="fu">corpus</span>()</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">summary</span>(saints))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Corpus consisting of 129 documents, showing 100 documents:

                                      Text Types Tokens Sentences   Volume
                       01-ask-in-faith.txt  1081   3574       141 Volume01
                           02-hear-him.txt   653   2429        96 Volume01
                     03-plates-of-gold.txt  1018   4264       182 Volume01
                        04-be-watchful.txt  1070   4200       203 Volume01
                        05-all-is-lost.txt  1020   4633       194 Volume01
          06-the-gift-and-power-of-god.txt   947   4230       184 Volume01
                    07-fellow-servants.txt  1029   4299       185 Volume01
       08-rise-of-the-church-of-christ.txt  1042   4142       167 Volume01
            09-come-life-or-come-death.txt  1161   4631       197 Volume01
                        10-gathered-in.txt  1120   4076       172 Volume01
            11-ye-shall-receive-my-law.txt  1085   3784       148 Volume01
             12-after-much-tribulation.txt  1059   4239       183 Volume01
              13-the-gift-has-returned.txt   919   3399       148 Volume01
             14-visions-and-nightmares.txt  1246   4522       191 Volume01
                        15-holy-places.txt  1279   4877       187 Volume01
                     16-only-a-prelude.txt  1045   3748       147 Volume01
             17-though-the-mob-kill-us.txt  1154   4413       200 Volume01
                 18-the-camp-of-israel.txt  1210   4776       214 Volume01
        19-stewards-over-this-ministry.txt  1108   3903       142 Volume01
                 20-do-not-cast-me-off.txt  1260   4800       195 Volume01
                  21-the-spirit-of-god.txt  1053   4294       161 Volume01
                       22-try-the-lord.txt  1120   4376       195 Volume01
                        23-every-snare.txt  1380   5427       217 Volume01
                24-truth-shall-prevail.txt  1126   4106       183 Volume01
                25-move-on-to-the-west.txt  1349   5837       258 Volume01
        26-a-holy-and-consecrated-land.txt  1086   3939       160 Volume01
         27-we-proclaim-ourselves-free.txt  1235   4503       208 Volume01
                  28-tried-long-enough.txt  1176   4616       212 Volume01
                    29-god-and-liberty.txt  1213   4442       221 Volume01
                  30-fight-like-angels.txt  1143   4552       192 Volume01
                  31-how-will-this-end.txt  1182   4826       233 Volume01
    32-though-all-hell-should-endeavor.txt  1262   4679       205 Volume01
               33-o-god-where-art-thou.txt  1261   4757       198 Volume01
                    34-build-up-a-city.txt  1425   5811       253 Volume01
                  35-a-beautiful-place.txt  1306   5201       219 Volume01
             36-incline-them-to-gather.txt  1398   4801       176 Volume01
                 37-we-will-prove-them.txt  1312   5463       224 Volume01
            38-a-traitor-or-a-true-man.txt  1250   4930       189 Volume01
                39-the-seventh-trouble.txt  1253   4323       171 Volume01
  40-united-in-an-everlasting-covenant.txt  1263   5204       205 Volume01
              41-god-must-be-the-judge.txt  1355   5314       229 Volume01
            42-round-up-your-shoulders.txt  1297   5026       194 Volume01
                  43-a-public-nuisance.txt  1418   5751       240 Volume01
            44-a-lamb-to-the-slaughter.txt  1437   6429       262 Volume01
             45-an-almighty-foundation.txt  1426   6216       273 Volume01
                 46-endowed-with-power.txt  1572   6428       249 Volume01
                01-gather-up-a-company.txt  1328   5151       176 Volume02
                       02-glory-enough.txt  1638   6658       268 Volume02
          03-word-and-will-of-the-lord.txt  1682   7168       245 Volume02
           04-an-ensign-to-the-nations.txt  1531   5918       237 Volume02
            05-bowed-down-to-the-grave.txt  1385   5643       211 Volume02
             06-seven-thunders-rolling.txt  1227   5011       213 Volume02
               07-keep-up-good-courage.txt  1241   4611       220 Volume02
              08-this-time-of-scarcity.txt  1387   5443       213 Volume02
             09-as-the-spirit-dictates.txt  1495   5950       270 Volume02
            10-truth-and-righteousness.txt  1753   8510       329 Volume02
               11-a-glorious-privilege.txt  1322   5004       218 Volume02
           12-their-faces-are-zionward.txt  1485   6258       247 Volume02
            13-by-every-possible-means.txt  1658   7278       240 Volume02
               14-hard-to-be-separated.txt  1412   5925       215 Volume02
             15-in-storms-and-in-calms.txt  1212   5515       183 Volume02
        16-not-doubting-nor-despairing.txt   999   4054       188 Volume02
            17-the-folks-are-reforming.txt  1348   5529       201 Volume02
                  18-too-late-too-late.txt  1576   8759       304 Volume02
           19-the-chambers-of-the-lord.txt  1631   7038       267 Volume02
            20-handwriting-on-the-wall.txt  1572   6274       224 Volume02
                21-the-same-great-work.txt  1605   6781       244 Volume02
          22-like-coals-of-living-fire.txt  1388   6301       278 Volume02
               23-one-harmonious-whole.txt  1884   8193       279 Volume02
                   24-an-immense-labor.txt  1434   6067       204 Volume02
         25-the-dignity-of-our-calling.txt  1522   6157       218 Volume02
          26-for-the-best-good-of-zion.txt  1485   6208       251 Volume02
              27-fire-in-the-dry-grass.txt  1592   6641       274 Volume02
 28-until-the-coming-of-the-son-of-man.txt  1701   6498       285 Volume02
              29-to-die-in-the-harness.txt  1292   5337       214 Volume02
           30-a-steady-onward-movement.txt  1644   6786       269 Volume02
      31-the-shattered-threads-of-life.txt  1535   5903       261 Volume02
      32-stand-up-and-take-the-pelting.txt  1474   5906       234 Volume02
         33-until-the-storm-blows-past.txt  1442   5936       259 Volume02
    34-nothing-to-fear-from-the-wicked.txt  1500   6254       231 Volume02
                     35-a-day-of-trial.txt  1515   5932       239 Volume02
       36-the-weak-thing-of-this-world.txt  1475   6061       244 Volume02
             37-to-the-throne-of-grace.txt  1572   6404       238 Volume02
          38-mine-own-due-time-and-way.txt  1491   5407       226 Volume02
                39-in-the-hands-of-god.txt  1460   6173       242 Volume02
                    40-the-right-thing.txt  1184   5103       265 Volume02
                  41-so-long-submerged.txt  1452   6514       267 Volume02
 42-inspiration-at-the-divine-fountain.txt  1336   5628       245 Volume02
      43-a-greater-necessity-for-union.txt  1507   6654       264 Volume02
                      44-blessed-peace.txt  1451   6251       285 Volume02
        01-a-brighter-and-a-better-day.txt  1629   7457       325 Volume03
        02-as-we-prove-ourselves-ready.txt  1337   5487       225 Volume03
                  03-the-path-of-right.txt  1406   6336       293 Volume03
             04-a-great-amount-of-good.txt  1370   5816       244 Volume03
           05-an-essential-preparation.txt  1526   6811       265 Volume03
           06-our-wish-and-our-mission.txt  1626   6808       277 Volume03
                           07-on-trial.txt  1497   6167       223 Volume03
             08-the-rock-of-revelation.txt  1681   7068       302 Volume03
                 09-struggle-and-fight.txt  1808   8178       322 Volume03
                 10-struggle-and-fight.txt  1604   6152       275 Volume03
                                  filename
                       01-ask-in-faith.txt
                           02-hear-him.txt
                     03-plates-of-gold.txt
                        04-be-watchful.txt
                        05-all-is-lost.txt
          06-the-gift-and-power-of-god.txt
                    07-fellow-servants.txt
       08-rise-of-the-church-of-christ.txt
            09-come-life-or-come-death.txt
                        10-gathered-in.txt
            11-ye-shall-receive-my-law.txt
             12-after-much-tribulation.txt
              13-the-gift-has-returned.txt
             14-visions-and-nightmares.txt
                        15-holy-places.txt
                     16-only-a-prelude.txt
             17-though-the-mob-kill-us.txt
                 18-the-camp-of-israel.txt
        19-stewards-over-this-ministry.txt
                 20-do-not-cast-me-off.txt
                  21-the-spirit-of-god.txt
                       22-try-the-lord.txt
                        23-every-snare.txt
                24-truth-shall-prevail.txt
                25-move-on-to-the-west.txt
        26-a-holy-and-consecrated-land.txt
         27-we-proclaim-ourselves-free.txt
                  28-tried-long-enough.txt
                    29-god-and-liberty.txt
                  30-fight-like-angels.txt
                  31-how-will-this-end.txt
    32-though-all-hell-should-endeavor.txt
               33-o-god-where-art-thou.txt
                    34-build-up-a-city.txt
                  35-a-beautiful-place.txt
             36-incline-them-to-gather.txt
                 37-we-will-prove-them.txt
            38-a-traitor-or-a-true-man.txt
                39-the-seventh-trouble.txt
  40-united-in-an-everlasting-covenant.txt
              41-god-must-be-the-judge.txt
            42-round-up-your-shoulders.txt
                  43-a-public-nuisance.txt
            44-a-lamb-to-the-slaughter.txt
             45-an-almighty-foundation.txt
                 46-endowed-with-power.txt
                01-gather-up-a-company.txt
                       02-glory-enough.txt
          03-word-and-will-of-the-lord.txt
           04-an-ensign-to-the-nations.txt
            05-bowed-down-to-the-grave.txt
             06-seven-thunders-rolling.txt
               07-keep-up-good-courage.txt
              08-this-time-of-scarcity.txt
             09-as-the-spirit-dictates.txt
            10-truth-and-righteousness.txt
               11-a-glorious-privilege.txt
           12-their-faces-are-zionward.txt
            13-by-every-possible-means.txt
               14-hard-to-be-separated.txt
             15-in-storms-and-in-calms.txt
        16-not-doubting-nor-despairing.txt
            17-the-folks-are-reforming.txt
                  18-too-late-too-late.txt
           19-the-chambers-of-the-lord.txt
            20-handwriting-on-the-wall.txt
                21-the-same-great-work.txt
          22-like-coals-of-living-fire.txt
               23-one-harmonious-whole.txt
                   24-an-immense-labor.txt
         25-the-dignity-of-our-calling.txt
          26-for-the-best-good-of-zion.txt
              27-fire-in-the-dry-grass.txt
 28-until-the-coming-of-the-son-of-man.txt
              29-to-die-in-the-harness.txt
           30-a-steady-onward-movement.txt
      31-the-shattered-threads-of-life.txt
      32-stand-up-and-take-the-pelting.txt
         33-until-the-storm-blows-past.txt
    34-nothing-to-fear-from-the-wicked.txt
                     35-a-day-of-trial.txt
       36-the-weak-thing-of-this-world.txt
             37-to-the-throne-of-grace.txt
          38-mine-own-due-time-and-way.txt
                39-in-the-hands-of-god.txt
                    40-the-right-thing.txt
                  41-so-long-submerged.txt
 42-inspiration-at-the-divine-fountain.txt
      43-a-greater-necessity-for-union.txt
                      44-blessed-peace.txt
        01-a-brighter-and-a-better-day.txt
        02-as-we-prove-ourselves-ready.txt
                  03-the-path-of-right.txt
             04-a-great-amount-of-good.txt
           05-an-essential-preparation.txt
           06-our-wish-and-our-mission.txt
                           07-on-trial.txt
             08-the-rock-of-revelation.txt
                 09-struggle-and-fight.txt
                 10-struggle-and-fight.txt</code></pre>
</div>
</div>
</section>
<section id="activity" class="level3">
<h3 class="anchored" data-anchor-id="activity">Activity</h3>
<p>You guessed it! It’s your turn. Create a corpus of your choice with files of your choice (e.g., perhaps from Project Gutenberg). Add a <code>docvar</code> of your choice, which may mean you need to preprocess the files a bit by specifying filenames or directory structure in a certain way.</p>
</section>
</section>
<section id="creating-subcorpora" class="level2">
<h2 class="anchored" data-anchor-id="creating-subcorpora">Creating subcorpora</h2>
<p>It is super simple to create a subcorpus using a <code>docvar</code> (i.e., metadata about the files in the corpus). For example, let’s say we have our one Saints corpus with a <code>docvar</code> of Volume with values of “01”, “02”, and “03”. In order to create a subcorpus of just the files in Volume 1, we could run the following code. See the docs <a href="https://quanteda.io/articles/quickstart.html#subsetting-corpus-objects">here</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>vol01 <span class="ot">&lt;-</span> <span class="fu">corpus_subset</span>(saints, Volume <span class="sc">==</span> <span class="st">"01"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="activity-1" class="level3">
<h3 class="anchored" data-anchor-id="activity-1">Activity</h3>
<p>Give it a try! Create a subcorpus from a larger corpus of your choice using the <code>docvar</code> of your choice.</p>
</section>
</section>
<section id="keyword-in-context-kwic" class="level2">
<h2 class="anchored" data-anchor-id="keyword-in-context-kwic">Keyword-in-context (KWIC)</h2>
<p>Let’s perform into a corpus linguistic technique: the keyword-in-context display or concordance lines or concordances. It is super easy to do so with the <a href="https://quanteda.io/reference/tokens.html"><code>tokens()</code></a> and <a href="https://quanteda.io/reference/kwic.html"><code>kwic()</code></a> functions. See example <a href="https://quanteda.io/articles/quickstart.html#exploring-corpus-texts">here</a>.</p>
<p>Let’s start out slowly with a simple word search using our <code>Saints</code> corpus:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming packages are loaded and corpus has been created</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># tokenize and then get concordances</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>toks <span class="ot">&lt;-</span> <span class="fu">tokens</span>(saints)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>concordances <span class="ot">&lt;-</span> <span class="fu">kwic</span>(toks, <span class="at">pattern =</span> <span class="st">"tree"</span>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(concordances)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Keyword-in-context with 87 matches.                                                                            
            [03-plates-of-gold.txt, 1536]            He then found a large |
               [04-be-watchful.txt, 2620]               he could. A fallen |
               [04-be-watchful.txt, 2698]         man sprang from behind a |
    [12-after-much-tribulation.txt, 2451]           , they hit a submerged |
          [30-fight-like-angels.txt, 543]       take cover behind a fallen |
         [30-fight-like-angels.txt, 1656]  son﻿—emerged from behind a large |
         [30-fight-like-angels.txt, 2179]         gather roots from an elm |
    [36-incline-them-to-gather.txt, 3311]             a twig from an olive |
        [46-endowed-with-power.txt, 4173]              she sat on a fallen |
              [02-glory-enough.txt, 1406]          frozen ground. A fallen |
 [03-word-and-will-of-the-lord.txt, 2212]            cut timber, a falling |
   [04-an-ensign-to-the-nations.txt, 642]  Sometimes the company spotted a |
   [05-bowed-down-to-the-grave.txt, 1988]           beneath the shade of a |
   [19-the-chambers-of-the-lord.txt, 509]                   a stick, nor a |
  [30-a-steady-onward-movement.txt, 2554]               root is sound, the |
 [38-mine-own-due-time-and-way.txt, 1144] found herself beside a beautiful |
 [38-mine-own-due-time-and-way.txt, 1165]           say, “ The underground |
                 [11-too-heavy.txt, 2948]        hang you from the highest |
                 [11-too-heavy.txt, 3089]          Lupe dashed to a nearby |
                 [11-too-heavy.txt, 3191]                two men to a tall |
                 [11-too-heavy.txt, 6314]       hang them from the highest |
                 [11-too-heavy.txt, 6334]        hang you from the highest |
         [16-written-in-heaven.txt, 6284]              , From Acorn to Oak |
        [18-any-place-on-earth.txt, 4580]          Galli, Under a Leafless |
        [18-any-place-on-earth.txt, 4857]          Galli, Under a Leafless |
  [19-the-gospel-of-the-master.txt, 5739]          Galli, Under a Leafless |
  [19-the-gospel-of-the-master.txt, 5844]          Galli, Under a Leafless |
  [19-the-gospel-of-the-master.txt, 5979]          Galli, Under a Leafless |
  [19-the-gospel-of-the-master.txt, 6085]          Galli, Under a Leafless |
                [20-hard-times.txt, 4482]          Galli, Under a Leafless |
                [20-hard-times.txt, 4505]          Galli, Under a Leafless |
                [20-hard-times.txt, 4542]          Galli, Under a Leafless |
                [20-hard-times.txt, 4553]          Galli, Under a Leafless |
                [20-hard-times.txt, 4564]          Galli, Under a Leafless |
            [22-eternal-reward.txt, 6315]          Galli, Under a Leafless |
            [22-eternal-reward.txt, 6413]          Galli, Under a Leafless |
            [22-eternal-reward.txt, 6429]          Galli, Under a Leafless |
     [23-all-that-is-necessary.txt, 6100]          Galli, Under a Leafless |
     [23-all-that-is-necessary.txt, 6111]          Galli, Under a Leafless |
     [23-all-that-is-necessary.txt, 6148]          Galli, Under a Leafless |
        [27-god-is-at-the-helm.txt, 2451] consider planting a “ centennial |
        [27-god-is-at-the-helm.txt, 5418]          Galli, Under a Leafless |
        [27-god-is-at-the-helm.txt, 5441]          Galli, Under a Leafless |
        [27-god-is-at-the-helm.txt, 5461]          Galli, Under a Leafless |
        [27-god-is-at-the-helm.txt, 5497]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5379]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5392]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5403]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5423]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5434]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5481]          Galli, Under a Leafless |
              [29-tis-eventide.txt, 5492]          Galli, Under a Leafless |
                 [30-such-grief.txt, 791]        find was under a leafless |
                [30-such-grief.txt, 3680]          Galli, Under a Leafless |
                [30-such-grief.txt, 3711]          Galli, Under a Leafless |
                [30-such-grief.txt, 3753]          Galli, Under a Leafless |
                [30-such-grief.txt, 3801]          Galli, Under a Leafless |
                [30-such-grief.txt, 3814]          Galli, Under a Leafless |
                [30-such-grief.txt, 3879]          Galli, Under a Leafless |
                [30-such-grief.txt, 3918]          Galli, Under a Leafless |
                [30-such-grief.txt, 3979]          Galli, Under a Leafless |
           [31-the-right-track.txt, 4077]          Galli, Under a Leafless |
           [31-the-right-track.txt, 4192]          Galli, Under a Leafless |
           [31-the-right-track.txt, 4205]          Galli, Under a Leafless |
           [31-the-right-track.txt, 4264]          Galli, Under a Leafless |
           [31-the-right-track.txt, 4360]          Galli, Under a Leafless |
      [32-brothers-and-sisters.txt, 5243]          Galli, Under a Leafless |
      [32-brothers-and-sisters.txt, 5256]          Galli, Under a Leafless |
      [32-brothers-and-sisters.txt, 5280]          Galli, Under a Leafless |
      [32-brothers-and-sisters.txt, 5302]          Galli, Under a Leafless |
      [32-brothers-and-sisters.txt, 5313]          Galli, Under a Leafless |
           [33-our-fathers-hand.txt, 246]                , he hid behind a |
           [33-our-fathers-hand.txt, 697]     John O’Donnal knelt beside a |
          [33-our-fathers-hand.txt, 4801]            ” 34 Anderson, Cherry |
          [33-our-fathers-hand.txt, 4879]            CHL. Anderson, Cherry |
          [33-our-fathers-hand.txt, 5067]            CHL; Anderson, Cherry |
          [33-our-fathers-hand.txt, 5136]            CHL. Anderson, Cherry |
          [33-our-fathers-hand.txt, 5280]              , From Acorn to Oak |
          [33-our-fathers-hand.txt, 6300]            141; Anderson, Cherry |
            [35-we-cannot-fail.txt, 5066]             66. Anderson, Cherry |
            [35-we-cannot-fail.txt, 5129]            CHL. Anderson, Cherry |
            [35-we-cannot-fail.txt, 5165]           1950. Anderson, Cherry |
     [38-more-power-more-light.txt, 3253]          Galli, Under a Leafless |
     [38-more-power-more-light.txt, 3338]          Galli, Under a Leafless |
     [38-more-power-more-light.txt, 3571]          Galli, Under a Leafless |
     [38-more-power-more-light.txt, 3584]          Galli, Under a Leafless |
                 [39-a-new-era.txt, 3579]          Galli, Under a Leafless |
                                       
 tree | branch and used it as          
 tree | blocked the path ahead of      
 tree | and struck him with the        
 tree | and nearly capsized. Fearing   
 tree | . She and her daughters        
 tree | near the millpond and crept    
 tree | . When he returned,            
 tree | and contemplated the Atonement.
 tree | along the western bank of      
 tree | had crushed a wagon.           
 tree | struck him and broke some      
 tree | or a patch of green            
 tree | . This became an everyday      
 tree | , nor a particle of            
 tree | will be sound, and             
 tree | , heavy with the finest        
 tree | brings forth very choice fruit 
 tree | . ” 36 When the                
 tree | and clung to it as             
 tree | and slung ropes over its       
 tree | ” changed to “ If              
 tree | . ” Monroy, History            
 Tree | , 29; Melvin J                 
 Tree | , 58; Naujoks and              
 Tree | , 58; George H                 
 Tree | , 58; Helga Meischus           
 Tree | , 3–5, 12,                     
 Tree | , 16, 25–27;                   
 Tree | , 32. See Tilsit               
 Tree | , 36; German-Austrian Mission  
 Tree | , 32, 34;                      
 Tree | , 34. Meyer and                
 Tree | , 34–36. Meyer and             
 Tree | , 34; see also                 
 Tree | , 49–52; Johnson and           
 Tree | , 50–52. Topic:                
 Tree | , 50; Reese,                   
 Tree | , 10–12. Meyer and             
 Tree | , 57–59; Naujoks and           
 Tree | , 44. Harold B                 
 tree | ” as a way to                  
 Tree | , 63–65, 78–80.                
 Tree | , 81–84. Overy,                
 Tree | , 84–85; Winter,               
 Tree | , 63, 71,                      
 Tree | , 95–96, 100.                  
 Tree | , 97–100. Meyer and            
 Tree | , 101–2; Meyer,                
 Tree | , 92–93. Meyer and             
 Tree | , 16, 102;                     
 Tree | , 102. Meyer and               
 Tree | , 44, 103–4,                   
 tree | , its branches brown and       
 Tree | , 107, 110;                    
 Tree | , 108; Kershaw,                
 Tree | , 105, 110–12;                 
 Tree | , 112, 187–88.                 
 Tree | , 188–91; Birth,               
 Tree | , 191; Weinberg,               
 Tree | , 108, 117–18,                 
 Tree | , 114, 194–95;                 
 Tree | , 108, 113,                    
 Tree | , 101–3, 123.                  
 Tree | , 113, 115–16,                 
 Tree | , 118; Kuehne,                 
 Tree | , 120; Birth,                  
 Tree | , 127–30, 135.                 
 Tree | , 127, 130,                    
 Tree | , 129, 135–38;                 
 Tree | , 132. Meyer and               
 Tree | , 132–34; Meyer,               
 tree | . 1 Martha had experience      
 tree | in a secluded corner of        
 Tree | behind the Iron Curtain,       
 Tree | behind the Iron Curtain,       
 Tree | behind the Iron Curtain,       
 Tree | behind the Iron Curtain,       
 Tree | , 201–3; Frederick S           
 Tree | behind the Iron Curtain,       
 Tree | behind the Iron Curtain,       
 Tree | behind the Iron Curtain,       
 Tree | behind the Iron Curtain,       
 Tree | , 129; Meyer,                  
 Tree | , 156. Couch,                  
 Tree | , 139–41, 156–58.              
 Tree | , 142; Couch,                  
 Tree | , 152; Couch,                  </code></pre>
</div>
</div>
<p>Let’s ramp it up with some regular expression pizzazz. <strong>Question</strong>: What does the regular expression find?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>toks <span class="ot">&lt;-</span> <span class="fu">tokens</span>(saints)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>concordances <span class="ot">&lt;-</span> <span class="fu">kwic</span>(toks, <span class="at">pattern =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">w+(</span><span class="sc">\\</span><span class="st">w{2,})</span><span class="sc">\\</span><span class="st">W+</span><span class="sc">\\</span><span class="st">w+</span><span class="sc">\\</span><span class="st">1</span><span class="sc">\\</span><span class="st">b"</span>, <span class="at">valuetype =</span> <span class="st">"regex"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(concordances)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Keyword-in-context with 43 matches.                                                 
                       [15-holy-places.txt, 4805]
                       [15-holy-places.txt, 4837]
                       [23-every-snare.txt, 4509]
       [26-a-holy-and-consecrated-land.txt, 2926]
        [27-we-proclaim-ourselves-free.txt, 2834]
            [36-incline-them-to-gather.txt, 2398]
                      [02-glory-enough.txt, 6437]
         [03-word-and-will-of-the-lord.txt, 5591]
              [14-hard-to-be-separated.txt, 1880]
            [15-in-storms-and-in-calms.txt, 1124]
           [17-the-folks-are-reforming.txt, 5016]
          [19-the-chambers-of-the-lord.txt, 5872]
         [22-like-coals-of-living-fire.txt, 1676]
 [28-until-the-coming-of-the-son-of-man.txt, 270]
           [30-a-steady-onward-movement.txt, 714]
            [37-to-the-throne-of-grace.txt, 3750]
                 [41-so-long-submerged.txt, 2843]
                 [41-so-long-submerged.txt, 2877]
       [01-a-brighter-and-a-better-day.txt, 3342]
          [05-an-essential-preparation.txt, 1501]
          [05-an-essential-preparation.txt, 5141]
                [18-any-place-on-earth.txt, 4556]
                [18-any-place-on-earth.txt, 4618]
                [18-any-place-on-earth.txt, 4766]
                [18-any-place-on-earth.txt, 4802]
                [18-any-place-on-earth.txt, 4842]
          [19-the-gospel-of-the-master.txt, 5773]
          [19-the-gospel-of-the-master.txt, 5855]
          [19-the-gospel-of-the-master.txt, 6169]
          [19-the-gospel-of-the-master.txt, 6198]
          [19-the-gospel-of-the-master.txt, 6967]
          [19-the-gospel-of-the-master.txt, 7132]
          [19-the-gospel-of-the-master.txt, 7162]
                        [20-hard-times.txt, 4276]
                        [20-hard-times.txt, 4486]
                    [22-eternal-reward.txt, 5056]
             [23-all-that-is-necessary.txt, 6017]
                   [25-no-time-to-lose.txt, 4328]
                   [26-wars-foul-brood.txt, 1191]
                [27-god-is-at-the-helm.txt, 2637]
                   [33-our-fathers-hand.txt, 664]
                    [35-we-cannot-fail.txt, 4997]
                         [39-a-new-era.txt, 3446]
                                                             
             of Zion, circa Early |        June–June        |
             of Zion, circa Early |        June–June        |
                  482–84; “ A New |    Revelation﻿—Mormon    |
            of Zion on the sacred |       ground﻿—and        |
       meekness and humility, and |     long-suffering      |
              his readers, “ what |         may﻿—nay         |
                     , 21. Topic: |    Mexican-American     |
             of Zion, circa Early |        June–June        |
            . “ Have patience and |     long-suffering      |
    the Jacksons were their three | children—seven-year-old |
                         , [ 5 ]; |         Pic-nic         |
         Beeton, Genteel Gentile, |        xii–xiii         |
            arms and chest with a |     strong-smelling     |
         she demanded more than $ |         200,000         |
 anticipating shall come upon all |   nations—revolutions   |
          gently and meekly, with |     long-suffering      |
           agreed to help raise $ |         100,000         |
           the return of around $ |         400,000         |
            willing to loan him $ |         200,000         |
     the Mormon Battalion for the |    Mexican-American     |
        Topics: Mormon Battalion; |    Mexican-American     |
                       , 26: 574. |     German-Austrian     |
            Russia. Topic: Russia |     German-Austrian     |
                         ” [ 2 ]. |     German-Austrian     |
               also, for example, |     German-Austrian     |
                        , 29, 35; |     German-Austrian     |
         32; Königsberg District, |     German-Austrian     |
      25–27; Königsberg District, |     German-Austrian     |
         Mission, French Mission, |     German-Austrian     |
         Historical Reports, CHL; |     German-Austrian     |
     “ News of Centennial Reaches |       75,000,000        |
                    Fete, ” and “ |         800,000         |
     “ News of Centennial Reaches |       75,000,000        |
               also, for example, |     German-Austrian     |
               Leafless Tree, 36; |     German-Austrian     |
                 Mission, 1933 ). |     German-Austrian     |
                     of Gray, 35; |     German-Austrian     |
                       , 81, 200; |     German-Austrian     |
          with charity, patience, |     long-suffering      |
     everywhere will have to make |  sacrifices—sacrifices  |
           patience, charity, and |     long-suffering      |
             and Münz, “ European |        East-West        |
            Choir Goes to Europe, |       xvii–xviii        |
                                     
 25, 1833, in                        
 25, 1833, in                        
 Money, ” Cleveland Weekly           
 bid the Saints to gather            
 , ” the Lord promised               
 , what will﻿—become of your          
 War James Allen, Circular           
 25, 1833, in                        
 , ” he wrote.                       
 Martha, four-year-old Mary,         
 Party at the Head Waters            
 ; “ Slander of Gov                  
 oil and rolled him across           
 in alimony and other claims         
 succeeding revolutions—we may have a
 and love unfeigned. Now             
 for construction, though it         
 worth of Church property that       
 . He said he was                    
 War of 1846–48, the                 
 War Brigham Young Jr.               
 Mission, Manuscript History and     
 Mission, Manuscript History and     
 Mission, Branch Histories,          
 Mission, Manuscript History and     
 Mission, Branch Histories,          
 Mission, Ordinations to the         
 Mission, Emigration Record,         
 Mission, Netherland Mission,        
 Mission, Manuscript History and     
 Persons in America, ”               
 to Hear Centennial over Radio       
 Persons in America, ”               
 Mission, General Minutes,           
 Mission, General Minutes,           
 Mission, Swedish Mission,           
 Mission, General Minutes,           
 Mission, Manuscript History and     
 , and forgiveness. ”                
 the like and extent of              
 . 5 Martha clung to                 
 Migration, ” 521–24,                
 . Topic: Tabernacle Choir           </code></pre>
</div>
</div>
<p>The main tokenizer function <code>tokens()</code> has a handful of arguments that are worth inspecting. Take a gander <a href="https://quanteda.io/reference/tokens.html">here</a>. Also, there many other tokenizer functions that can be useful. Take a look <a href="https://quanteda.io/reference/index.html#tokens-functions">here</a>.</p>
<section id="activity-2" class="level3">
<h3 class="anchored" data-anchor-id="activity-2">Activity</h3>
<p>Get to know the tokenizing functions and the kwic() function (example <a href="https://quanteda.io/articles/quickstart.html#exploring-corpus-texts">here</a> and docs <a href="https://quanteda.io/reference/kwic.html">here</a>) with the corpus of your choice.</p>
</section>
</section>
<section id="more-to-come-soon-about-quanteda" class="level2">
<h2 class="anchored" data-anchor-id="more-to-come-soon-about-quanteda">MORE TO COME SOON ABOUT QUANTEDA</h2>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Copyright: Earl Kjar Brown, PhD</div>
  </div>
</footer>



</body></html>